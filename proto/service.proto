syntax = "proto3";

package hermes;

option go_package = "github.com/DaviBonetto/HERMES-L2-HighPerf-Event-Bus/pb";

// Core Messages
message Event {
    string topic = 1;
    bytes payload = 2;
    int64 timestamp = 3;
}

message Ack {
    bool success = 1;
    string message = 2;
}

message Subscription {
    string topic = 1;
}

// EventBus Service Definition
service EventBus {
    // Publish an event to a topic
    rpc Publish(Event) returns (Ack);
    
    // Subscribe to a topic and receive a stream of events
    rpc Subscribe(Subscription) returns (stream Event);
}
